services:
  oracle:
    image: gvenzl/oracle-xe:21.3.0
    hostname: oracle
    container_name: oracle
    environment:
      ORACLE_PASSWORD: testing
    ports:
      - "1521:1521"
      - "5500:5500"
    volumes:
      - ./docker/oracle/setup:/container-entrypoint-initdb.d

  keycloak:
    image: quay.io/keycloak/keycloak:19.0.1
    hostname: keycloak
    container_name: keycloak
    ports:
      - "8081:8080"
      - "9991:9990"
    environment:
      KEYCLOAK_ADMIN: admin
      KEYCLOAK_ADMIN_PASSWORD: admin
      KEYCLOAK_FRONTEND_URL: 'http://localhost:8081'
      KEYCLOAK_SERVER_URL: 'http://keycloak:8080'
      KEYCLOAK_HOME: '/opt/keycloak'
    volumes:
      - ./docker/keycloak/docker-entrypoint.sh:/docker-entrypoint.sh
      - ./docker/keycloak/data:/data
      - ./docker/keycloak/setup.sh:/setup.sh
    entrypoint: /docker-entrypoint.sh

  puppet:
    image: slominskir/puppet-show:2.1.1
    hostname: puppet
    container_name: puppet
    ports:
      - "3000:3000"